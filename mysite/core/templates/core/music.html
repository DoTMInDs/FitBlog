{% extends "base.html" %}
{% load static %}
{% load tailwind_filters %}
{% block title %}Music{% endblock  %}
{% block content %}
    {% include "partials/nav.html" %}
    <!-- Music-header -->
    <div class="__post_details_media_wrapper __music_container">
        <div class="__post_details_media_container">
            <div class="border-b-[1px] border-[#3d5361c4] w-full flex justify-start items-start">
                <div class="flex gap-[20px]">
                    <p>
                        <a class="uppercase  music_links text-nowrap" href="{% url 'music-page' %}">
                            <i class="fa-solid fa-house-chimney"></i>
                            Home
                        </a>
                    </p>
                    {% comment %} <p><a class="uppercase  music_links text-nowrap" href="">All Songs</a></p> {% endcomment %}
                    <div class="dropdown">
                        <button class="uppercase music_links text-nowrap" type="button" data-bs-toggle="modal" data-bs-target="#exampleModal1">
                            <i class="fa-solid fa-plus-circle"></i>
                            Album
                        </button>
                         <!-- Modal -->
                         <div class="modal fade" id="exampleModal1" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered modal-lg">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h1 class="modal-title fs-5" id="exampleModalLabel">Create an Album</h1>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <form action="" method="post" enctype="multipart/form-data">
                                        {% csrf_token %}
                                        {{ a_form|crispy }}
                                        <input type="hidden" name="a_form" value="a_form">
                                        {% comment %} <input type="hidden" name="artist_id" value="{{ artist_uploads.id }}"> {% endcomment %}
                                        <div class="flex gap-[10px] justify-center items-center __delet_btn_wrapper ">
                                            <button type="button" class="_edit_detail_btn text-[#3D5361] border border-[#3D5361] rounded-full py-[10px] px-[5rem]" data-bs-dismiss="modal">Close</button>
                                            <input type="submit" name="a_form" value="Upload Album" class="_edit_detail_btn text-[#fefefefe] bg-[#3D5361] rounded-full py-[10px] px-[5rem]">
                                        </div>
                                    </form>
                                </div>
                            </div>
                            </div>
                        </div>
                       
                    </div>
                    <div class="">
                        <button type="button" class="text-[13px] text-nowrap rounded-full py-[6px] px-[18px] text-[#fefefefe] bg-[#3D5361] mt-[-21px]" data-bs-toggle="modal" data-bs-target="#exampleModal">
                            <i class="fa-solid fa-music mr-[10px] mt-[3px]"></i>
                            Create Artist
                        </button>
                        <!-- Modal -->
                        <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered modal-lg">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h1 class="modal-title fs-5" id="exampleModalLabel">Add an Artist</h1>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <form action="" method="post" enctype="multipart/form-data">
                                        {% csrf_token %}
                                        {{ form|crispy }}
                                        <input type="hidden" name="form" value="form">
                                        <div class=" flex gap-[10px] justify-center items-center __delet_btn_wrapper">
                                            <button type="button" class="_edit_detail_btn text-[#3D5361] border border-[#3D5361] rounded-full py-[10px] px-[5rem]" data-bs-dismiss="modal">Close</button>
                                            <input type="submit" value="Post Artist" class="_edit_detail_btn text-[#fefefefe] bg-[#3D5361] rounded-full py-[10px] px-[5rem]">
                                        </div>
                                    </form>
                                </div>
                            </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
     

            <!-- Music-main-section -->
            <div class="mt-[2rem]">
                <div class="flex justify-between">
                    <h2 class="text-[22px] text-[#3D5361] font-bold popular_artist_h2">Popular Artists</h2>
                    <p class="text-[#fff]">
                        <a class="text_decoration text-nowrap" href="{% url "all-artist" %}">Show all
                            <i class="fa-solid fa-arrow-up-right-from-square ml-[0.5rem]"></i>
                        </a>
                    </p>
                </div>
                <div class="flex gap-[20px] music_artist_container">
                    <div class=" music_artist_wrapper">
                        {% for artist_upload in artist_uploads %}
                            <a href="{% url 'artist-detail' artist_upload.id %}" class="all_artist_wrapper_link">
                            <div class="relative">
                                    <div class="all_artist_icon_overlay">
                                        <i class="fa-solid fa-play all_artist_play_icon"></i>
                                    </div>
                                    <div class="all_artist_grid_container">
                                        <div class="all_artistimg_wrapper">
                                            {% if artist_upload.artist_profile %}
                                                <img src="{{ artist_upload.artist_profile.url }}" class="all_artist_img" alt="...">
                                            {% endif %}
                                        </div>
                                        <div class="all_artist_content">
                                            <h3 class="all_artist_name">{{ artist_upload.artist }}</h3>
                                            <p class="all_artist_genre">{{ artist_upload.artist_genre }}</p>
                                        </div>
                                    </div>
                            </div>
                            </a>    
                        {% endfor %}                 
                    </div>
                </div>
            </div>

            <div class="mt-[2rem]">
                <div class="flex justify-between">
                    <h2 class="text-[22px] text-[#3D5361] font-bold popular_artist_h2 ">Popular albums and singles</h2>
                    <p class="text-[#fff]">
                        <a class="text_decoration text-nowrap" href="{% url "all-album" %}">
                            Show all
                            <i class="fa-solid fa-arrow-up-right-from-square ml-[0.5rem]"></i>
                        </a>
                    </p>
                </div>
                <div class="flex gap-[20px] music_artist_container">
                    <div class=" music_artist_wrapper">
                        {% for album in albums %}
                            <a href="{% url "album-detail" album.id %}" class="all_artist_wrapper_link">
                                <div class="relative">
                                        <div class="all_artist_icon_overlay">
                                            <i class="fa-solid fa-play all_artist_play_icon"></i>
                                        </div>
                                        <div class="all_artist_grid_container">
                                            <div class="all_artistimg_wrapper all_artist_album_and_singles_img_wrapper">
                                                {% if album.cover_image %}
                                                    <img src="{{ album.cover_image.url }}" class="all_artist_img all_artist_album_and_singles_img" alt="...">
                                                {% endif %}
                                            </div>
                                            <div class="all_artist_content">
                                                <h3 class="all_artist_name">{{ album.title }}</h3>
                                                <p class="all_artist_genre">{{ album.artist }}</p>
                                            </div>
                                        </div>
                                </div>
                            </a>    
                        {% endfor %}                 
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    {% include "partials/footer.html" %}
    {% endblock content %}


